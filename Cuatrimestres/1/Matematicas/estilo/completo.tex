% Compila en uno de dos formatos diferentes dependiendo del valor de ebook, el
% cual puede ser pasado por medio de una cadena de caracteres al mandar compilar
% el archivo, un ejemplo es este:
%
% pdflatex -interaction=batchmode "\newif\ifebook\ebookfalse\input{archivo.tex}"
%
% pdflatex -interaction=batchmode "\newif\ifebook\ebooktrue\input{archivo.tex}"
%
% Estas dos entradas produciran archivos diferentes con un formato especifico
\ifebook
    \documentclass[a5paper, 15pt]{book} % Papel: A5, Letra: 15pt
    \usepackage[margin=2mm]{geometry} % Margenes estrechos
    \usepackage{mathpazo} % Letra: Palatino
    \usepackage{eulervm} % Letra para matematicas: Euler
    \usepackage{wrapfig}
    \newenvironment{marginfigure} % Definicion complementaria
        {\begin{wrapfigure}{r}{0.2\textwidth}}
        {\end{wrapfigure}}
\else
    \documentclass{tufte-book} % Papel: Letter, Estilo: Tufte
    \AtBeginDocument{\fontsize{11}{15}\selectfont}
    \geometry{
    left=15mm, % left margin
    textwidth=120mm, % main text block
    marginparsep=6mm, % gutter between main text block and margin notes
    marginparwidth=60mm % width of margin notes
    }
\fi
% Paquetes a utilizar
\usepackage[spanish, es-noquoting]{babel} % Español
\usepackage[usenames,dvipsnames]{xcolor} % Nombres de colores
\usepackage[utf8]{inputenc} % Texto de entrada en UTF-8
\usepackage{amsmath}        % Paquete con definiciones matematicas
\usepackage{amsthm}         % Paquete para definir ambientes de teoremas
\usepackage{amssymb}        % Paquete con simbolos matematicos
\usepackage{xfrac}          % Paquete para usar fracciones inclinadas
%\usepackage{graphicx}       % Paquete para incluir imagenes
\usepackage{bbm}            % Paquete con simbolos de campos
\usepackage{enumerate}      % Paquete para crear ambientes de listas enumeradas
%\usepackage{tikz}           % Paquete para crear diagramas
\usepackage{todonotes}      % Paquete para crear anotaciones
\usepackage{mathrsfs}       % Paquete para mas simbolos de campos
%\usepackage{steinmetz}      % Paquete para escribir numeros complejos
\usepackage{tcolorbox}

\setcounter{tocdepth}{2}
% Hace que la numeración dependa del numero de capitulo
\setcounter{secnumdepth}{1}
\numberwithin{equation}{section}
% Definición de matriz adjunta
\newenvironment{amatrix}[1]
    {\left(\begin{array}{@{}*{#1}{c}|c@{}}}
    {\end{array}\right)}
% Definiciones de teoremas
\theoremstyle{plain}
\newtheorem{lema}{Lema}[section]
\newtheorem{teorema}{Teorema}[section]
\newtheorem{corolario}{Corolario}[section]
\newtheorem{proposicion}{Proposición}[section]
\theoremstyle{remark}
\newtheorem{nota}{Nota}[section]
\newtheorem{observacion}{Observación}[section]
\theoremstyle{definition}
\newtheorem{definicion}{Definición}[section]
\newtheorem{ejemplo}{Ejemplo}[section]
\newtheorem{ejercicio}{Ejercicio}[section]
% Opciones para colores en teoremas
\tcbuselibrary{skins}
% Ambiente con colores para teoremas de estilo plano
\tcolorboxenvironment{lema}
    {enhanced jigsaw,
    colframe=SkyBlue,
    interior hidden,
    before skip=10pt,
    after skip=10pt}
\tcolorboxenvironment{teorema}
    {enhanced jigsaw,
    colframe=SkyBlue,
    interior hidden,
    before skip=10pt,
    after skip=10pt}
\tcolorboxenvironment{corolario}
    {enhanced jigsaw,
    colframe=SkyBlue,
    interior hidden,
    before skip=10pt,
    after skip=10pt}
\tcolorboxenvironment{proposicion}
    {enhanced jigsaw,
    colframe=SkyBlue,
    interior hidden,
    before skip=10pt,
    after skip=10pt}
% Ambiente con colores para teoremas de estilo anotacion
\tcolorboxenvironment{nota}
    {blanker,
    left=5mm,
    before skip=10pt,
    after skip=10pt,
    borderline west={1mm}{0pt}{Orchid}}
\tcolorboxenvironment{observacion}
    {blanker,
    left=5mm,
    before skip=10pt,
    after skip=10pt,
    borderline west={1mm}{0pt}{Orchid}}
% Ambiente con colores para teoremas de estilo definicion
\tcolorboxenvironment{definicion}
    {frame empty,
    colback=OliveGreen!10!White,
    grow to left by=6pt,
    grow to right by=6pt,
    left=1.6pt,
    right=1.6pt,
    arc=5pt}
% Definiciones de operadores
\DeclareMathOperator{\rango}{rango}
\DeclareMathOperator{\imagen}{im}
\DeclareMathOperator{\grado}{gr}
\DeclareMathOperator{\traza}{traza}
\DeclareMathOperator{\supremo}{sup}
\DeclareMathOperator{\cardinalidad}{card}
\DeclareMathOperator{\identidad}{id}
% Definiciones para recordatorios por hacer
\newcommand{\tarea}[2][]
    {\todo[
        linecolor=black!50!white,       % Color de linea: Gris
        backgroundcolor=black!30!white, % Color de fondo: Gris claro
        bordercolor=black!30!white,     % Color de borde: Gris claro
        #1]{#2}}
\newcommand{\faltante}[2][]
    {\todo[
        linecolor=red!50!white,        % Color de linea: Rojo
        backgroundcolor=red!30!white,  % Color de fondo: Rojo claro
        bordercolor=red!30!white,      % Color de borde: Rojo claro
        #1]{#2}}

\newcommand\+{\mkern2mu}
\newcommand{\op}{\star}
